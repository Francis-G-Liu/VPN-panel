# =============================================================================
# AI VPN 管理系统 - 环境变量配置模板
# =============================================================================
# 使用说明:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 修改所有 CHANGE-THIS 开头的值
# 3. 生产环境必须设置强密码和密钥
# =============================================================================

# --- 基础设置 ---
PROJECT_NAME=AI VPN Management System
DOMAIN=vpn.example.com
ENVIRONMENT=production
API_V1_STR=/api/v1

# --- 安全设置 ---
# ⚠️  生产环境必须修改以下密钥！建议使用: openssl rand -hex 32
SECRET_KEY=CHANGE-THIS-SECRET-KEY-IN-PRODUCTION
ADMIN_SECRET=CHANGE-THIS-ADMIN-SECRET
NODE_COMMUNICATION_KEY=CHANGE-THIS-NODE-KEY
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# --- 初始化设置 ---
# 首次部署时会创建此超级管理员账户
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=changeme

# --- PostgreSQL 数据库 ---
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_USER=vpn_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=vpn_db

# SQLite 备选方案（开发环境）
USE_SQLITE=false
SQLITE_PATH=./vpn_management.db

# --- Redis ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# --- API 服务 ---
API_HOST=0.0.0.0
API_PORT=8000

# --- CORS 配置 ---
# 生产环境应设置具体域名，例如: https://vpn.example.com,https://admin.example.com
CORS_ORIGINS=*

# --- 日志配置 ---
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log

# --- AI 调度器 ---
SCHEDULER_INTERVAL_SECONDS=60
SCHEDULER_ENABLED=true

# --- 节点监控 ---
NODE_METRICS_RETENTION_DAYS=30
NODE_HEARTBEAT_TIMEOUT_SECONDS=300

# --- 用户限制 ---
DEFAULT_TRAFFIC_LIMIT_GB=100
MAX_CONCURRENT_CONNECTIONS=5

# --- SMTP 邮件配置（可选）---
# 设置后可发送邮件通知
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@vpn.example.com
# SMTP_TLS=true
